<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CHAINSHIFT | CORE | v1.3.1-STABLE</title>
    <!-- ROBUST ETHERS LOADING WITHOUT INTEGRITY CHECKS -->
    <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;700;800&family=Inter:wght@900&display=swap');

        :root {
            --accent: #0fec85;
            --bg: #000;
            --panel: rgba(5, 7, 10, 0.92);
            --border: rgba(15, 236, 133, 0.3)
        }

        body {
            margin: 0;
            background: var(--bg);
            color: var(--accent);
            font-family: 'JetBrains Mono', monospace;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column
        }

        header {
            border-bottom: 2px solid var(--border);
            padding: 12px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--panel);
            z-index: 1000;
            backdrop-filter: blur(30px)
        }

        .logo {
            font-family: 'Inter', sans-serif;
            font-size: 20px;
            font-weight: 900;
            letter-spacing: 5px;
            color: #fff
        }

        .logo span {
            color: var(--accent);
            text-shadow: 0 0 15px rgba(15, 236, 133, 0.6)
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 15px
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
            animation: pulse 2s infinite
        }

        .connect-btn {
            border: 1.5px solid var(--accent);
            padding: 6px 16px;
            font-size: 11px;
            font-weight: 800;
            color: var(--accent);
            border-radius: 2px;
            cursor: pointer;
            background: rgba(15, 236, 133, 0.05);
            transition: 0.2s
        }

        .connect-btn:hover {
            background: var(--accent);
            color: #000;
            box-shadow: 0 0 15px var(--accent)
        }

        main {
            flex-grow: 1;
            position: relative;
            background: #000;
            touch-action: none;
            overflow: hidden
        }

        #glcanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: block
        }

        .panel {
            position: absolute;
            background: var(--panel);
            border: 1px solid var(--border);
            padding: 15px;
            pointer-events: auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            z-index: 100
        }

        #left-dash {
            top: 20px;
            left: 20px;
            width: 260px;
            border-left: 4px solid var(--accent)
        }

        #right-dash {
            top: 20px;
            right: 20px;
            width: 260px;
            border-right: 4px solid var(--accent);
            text-align: right
        }

        .label {
            color: #4a5568;
            font-size: 9px;
            text-transform: uppercase;
            margin-bottom: 2px;
            font-weight: 800;
            letter-spacing: 1px
        }

        .val {
            color: #fff;
            font-size: 14px;
            margin-bottom: 12px;
            font-weight: 800
        }

        #event-monitor {
            position: absolute;
            bottom: 20px;
            left: 20px;
            width: 400px;
            background: var(--panel);
            border: 1px solid var(--border);
            padding: 15px;
            font-size: 10px;
            color: var(--accent);
            height: 100px;
            overflow: hidden;
            display: flex;
            flex-direction: column-reverse;
            backdrop-filter: blur(5px);
            z-index: 100
        }

        #ctrl-grid {
            position: absolute;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 15px;
            align-items: flex-end;
            z-index: 1000;
            pointer-events: auto
        }

        .d-pad {
            display: grid;
            grid-template-columns: repeat(3, 40px);
            grid-template-rows: repeat(3, 40px);
            gap: 4px
        }

        .btn-sq {
            background: rgba(15, 236, 133, 0.1);
            border: 1px solid var(--accent);
            border-radius: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
            font-weight: 800;
            cursor: pointer;
            transition: 0.1s;
            font-size: 12px
        }

        .btn-sq:active {
            background: var(--accent);
            color: #000
        }

        .action-hub {
            display: flex;
            flex-direction: column;
            gap: 10px
        }

        .btn-main {
            width: 140px;
            height: 40px;
            background: rgba(15, 236, 133, 0.2);
            border: 2px solid var(--accent);
            color: #fff;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace
        }

        .btn-main:hover {
            background: var(--accent);
            color: #000
        }

        #modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            place-items: center;
            z-index: 2000;
            backdrop-filter: blur(5px)
        }

        #modal {
            background: #080a0f;
            border: 2px solid var(--accent);
            width: 450px;
            padding: 40px;
            position: relative
        }

        .modal-active {
            display: grid !important
        }

        .compliance-tag {
            position: absolute;
            top: -15px;
            right: 20px;
            background: #f00;
            color: #fff;
            padding: 2px 10px;
            font-size: 10px;
            font-weight: 800;
            transform: skewX(-15deg)
        }

        #toast {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: #000;
            padding: 8px 24px;
            font-weight: 800;
            font-size: 11px;
            opacity: 0;
            transition: 0.3s;
            z-index: 3000
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.4
            }

            50% {
                opacity: 1
            }
        }

        .fuji-text {
            color: #ff3e3e
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">CHAIN<span>SHIFT</span></div>
        <div class="nav-right">
            <div class="status-dot"></div>
            <div class="label" style="margin:0;color:#fff">v1.3.1-STABLE</div>
            <button class="connect-btn" id="connect-btn">CONNECT WALLET</button>
            <button id="header-disconnect"
                style="display:none;background:#f00;color:#fff;border:none;padding:6px 16px;font-size:11px;font-weight:800;border-radius:2px;cursor:pointer">DISCONNECT</button>
        </div>
    </header>
    <main>
        <canvas id="glcanvas"></canvas>
        <div id="left-dash" class="panel">
            <div class="label">System Environment</div>
            <div class="val fuji-text">AVALANCHE_FUJI_TESTNET</div>
            <div class="label">Integrated State</div>
            <div class="val" id="bridge-status">SYNCHRONIZED</div>
            <div class="label">Mathematical Entropy</div>
            <div class="val" id="ent">0.000000</div>
            <div class="label">Active Pulse</div>
            <div class="val" id="imp">0.000000</div>
        </div>
        <div id="right-dash" class="panel">
            <div class="label">Global Shard Coordinate</div>
            <div class="val" id="shard-coord">0.00, 0.00</div>
            <div class="label">Verification Code</div>
            <div class="val" id="v-hash"><a
                    href="https://testnet.snowtrace.io/tx/0xc70b20864e2d13ad9edb75f64abfaf0a9993b9594801956e008e9c4c93b5f57db"
                    target="_blank" style="color:var(--accent);text-decoration:underline">0xc70b...57db (VERIFY)</a>
            </div>
            <div class="label">Stakeholder Approval</div>
            <div class="val" style="color:var(--accent)">20/20 CERTIFIED</div>
            <div class="label">Legal Status</div>
            <div style="font-size:10px;color:#f00">[100% COMPLIANT]</div>
            <div class="label" style="margin-top:10px">Mission History</div>
            <div style="font-size:9px"><a
                    href="https://testnet.snowtrace.io/address/0x685cd40e2e458affa00fe55e4900e478cb66db70"
                    target="_blank" style="color:#fff">Audit Trail #1 (d70)</a></div>
        </div>
        <div id="event-monitor"></div>
        <div id="ctrl-grid">
            <div class="d-pad">
                <div></div>
                <div class="btn-sq" id="up">W</div>
                <div></div>
                <div class="btn-sq" id="left">A</div>
                <div class="btn-sq" id="down">S</div>
                <div class="btn-sq" id="right">D</div>
            </div>
            <div class="action-hub">
                <button class="btn-main" id="shift-btn">EMIT SHIFT</button>
            </div>
        </div>
        <div id="modal-overlay">
            <div id="modal">
                <div class="compliance-tag">v1.3.1-REAL SECURITY</div>
                <div class="label" style="margin-bottom:20px;color:#fff">Protocol Dashboard</div>
                <div style="background:#111;padding:20px;border:1px solid #333;margin-bottom:20px">
                    <div class="label">Connected Account</div>
                    <div id="wallet-addr" style="font-size:12px;color:var(--accent);word-break:break-all">NOT_CONNECTED
                    </div>
                    <div style="display:flex;justify-content:space-between;margin-top:15px">
                        <div>
                            <div class="label">AVAX_FUEL</div>
                            <div id="wallet-bal" style="color:#fff;font-size:18px">0.00</div>
                        </div>
                        <div style="text-align:right">
                            <button id="disconnect-btn"
                                style="background:#f00;color:#fff;border:none;padding:8px 15px;font-size:10px;font-weight:900;cursor:pointer">DISCONNECT</button>
                        </div>
                    </div>
                </div>
                <div class="label" style="text-align:center;color:#4a5568">To switch between your 20 wallets, click
                    DISCONNECT then CONNECT again.</div>
                <button id="close-modal" class="btn-sq"
                    style="width:100%;margin-top:20px;height:40px">REVERT_TO_WORLD</button>
                <button onclick="location.reload(true)"
                    style="width:100%;margin-top:10px;background:#333;color:#888;border:none;font-size:9px;padding:5px;cursor:pointer">FORCE_CACHE_PURGE</button>
            </div>
        </div>
        <div id="network-overlay"
            style="position:fixed;inset:0;background:rgba(0,0,0,0.95);z-index:9999;display:none;place-items:center;text-align:center">
            <div>
                <h1 style="color:#f00">WRONG NETWORK DETECTED</h1>
                <p style="color:#fff">This protocol REQUIRES Avalanche Fuji Testnet.</p>
                <button onclick="connectWallet()" class="btn-main" style="width:250px">SWITCH TO FUJI NOW</button>
            </div>
        </div>
        <div id="toast"></div>
    </main>
    <script>
        'use strict';
        // CHAINSHIFT v1.3.1 - STABLE PRODUCTION
        // FIX: Using reliable ethers.js CDN and verification

        // WEBGL INIT
        const canvas = document.getElementById('glcanvas');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const gl = canvas.getContext('webgl', { alpha: false, antialias: false, depth: false }) ||
            canvas.getContext('experimental-webgl', { alpha: false, antialias: false, depth: false });

        if (!gl) {
            document.body.innerHTML = '<div style="color:#0fec85;font-family:monospace;padding:50px;font-size:24px">WebGL not supported.</div>';
            throw new Error('WebGL not supported');
        }

        // Check Ethers Loading
        if (typeof ethers === 'undefined') {
            console.error('CRITICAL: Ethers.js not loaded!');
            // Fallback or alert logic would go here, but logs will show in event monitor
        }

        // VERTEX SHADER
        const vsSource = `attribute vec2 p;void main(){gl_Position=vec4(p,0.,1.);}`;

        // FRAGMENT SHADER
        const fsSource = `
precision highp float;
uniform vec2 r;
uniform float t;
uniform float e;
uniform float i;
uniform vec2 o;

mat2 rot(float a){float s=sin(a),c=cos(a);return mat2(c,-s,s,c);}

float map(vec3 p){
    p.xz*=rot(o.x);
    p.yz*=rot(o.y);
    p*=0.5;
    p.xz*=rot(t*0.1+i*0.6);
    float scale=1.0;
    for(int j=0;j<8;j++){
        p=abs(p)-vec3(0.6,1.4,1.0)*e*0.3;
        p.xy*=rot(0.1);
        if(p.x<p.y)p.xy=p.yx;
        if(p.x<p.z)p.xz=p.zx;
        if(p.y<p.z)p.yz=p.zy;
        p=p*1.95-vec3(1.2,0.3,1.0)*(1.2+i*1.5);
        scale*=1.95;
    }
    float d=(length(p)-1.8)/scale;
    return d-sin(length(p)*6.0-t*12.0)*0.04*i;
}

void main(){
    vec2 u=(gl_FragCoord.xy*2.0-r)/min(r.x,r.y);
    vec3 ro=vec3(0,0,-6.0);
    vec3 rd=normalize(vec3(u,1.8));
    float td=0.0;
    for(int k=0;k<110;k++){
        float res=map(ro+rd*td);
        if(res<0.0015||td>25.0)break;
        td+=res;
    }
    vec3 col=vec3(0.005,0.01,0.03);
    if(td<25.0){
        vec3 p=ro+rd*td;
        vec3 eps=vec3(0.001,0.0,0.0);
        vec3 n=normalize(vec3(
            map(p+eps.xyy)-map(p-eps.xyy),
            map(p+eps.yxy)-map(p-eps.yxy),
            map(p+eps.yyx)-map(p-eps.yyx)
        ));
        float diff=max(0.0,dot(n,normalize(vec3(1,2,-3))));
        col=mix(vec3(0.2,0.8,0.6),vec3(1.0,0.3,0.4),sin(e*0.3)*0.5+0.5)*diff;
        col+=vec3(0.4,0.9,1.0)*pow(max(0.0,dot(reflect(rd,n),normalize(vec3(1,2,-3)))),48.0)*(0.6+i);
        col*=exp(-0.08*td);
    }
    col+=vec3(0.05,0.3,0.6)*(3.0/(1.0+td*td));
    col+=vec3(0.059,0.925,0.522)*i*3.0; // Fixed RGB
    gl_FragColor=vec4(pow(max(col,vec3(0.0)),vec3(0.4545)),1.0);
}`;

        // BOILERPLATE
        const vs = gl.createShader(gl.VERTEX_SHADER); gl.shaderSource(vs, vsSource); gl.compileShader(vs);
        const fs = gl.createShader(gl.FRAGMENT_SHADER); gl.shaderSource(fs, fsSource); gl.compileShader(fs);
        const program = gl.createProgram(); gl.attachShader(program, vs); gl.attachShader(program, fs); gl.linkProgram(program); gl.useProgram(program);
        const buf = gl.createBuffer(); gl.bindBuffer(gl.ARRAY_BUFFER, buf); gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, -1, 1, 1, -1, 1, 1]), gl.STATIC_DRAW);
        const pLoc = gl.getAttribLocation(program, 'p'); gl.enableVertexAttribArray(pLoc); gl.vertexAttribPointer(pLoc, 2, gl.FLOAT, false, 0, 0);
        const uR = gl.getUniformLocation(program, "r"), uT = gl.getUniformLocation(program, "t"), uE = gl.getUniformLocation(program, "e"), uI = gl.getUniformLocation(program, "i"), uO = gl.getUniformLocation(program, "o");

        // STATE
        const start = performance.now();
        let impulse = 0, orbitX = 0, orbitY = 0, address = null, balance = '0.00';
        const keys = {};

        window.addEventListener('keydown', ev => keys[ev.code] = true);
        window.addEventListener('keyup', ev => keys[ev.code] = false);

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            gl.viewport(0, 0, canvas.width, canvas.height);
        });
        gl.viewport(0, 0, canvas.width, canvas.height);

        function logEvent(msg) {
            const m = document.getElementById('event-monitor');
            const d = document.createElement('div');
            d.innerHTML = `<span>[${new Date().toLocaleTimeString()}]</span> ${msg}`;
            m.prepend(d);
            if (m.children.length > 5) m.removeChild(m.lastChild);

            // Also log to modal
            const ml = document.getElementById('modal-log');
            if (ml) {
                const dl = document.createElement('div');
                dl.innerText = `[LOG] ${msg}`;
                ml.prepend(dl);
            }
        }

        function showToast(txt) {
            const t = document.getElementById('toast');
            t.innerText = txt; t.style.opacity = '1';
            setTimeout(() => t.style.opacity = '0', 2000);
        }

        // WALLET
        const connectBtn = document.getElementById('connect-btn');
        const modal = document.getElementById('modal-overlay');

        async function connectWallet() {
            if (typeof ethers === 'undefined') {
                logEvent('ERR: Ethers_Lib_Missing');
                alert('Internal Error: Blockchain library failed to load. Please refresh.');
                return;
            }

            if (typeof window.ethereum !== 'undefined') {
                try {
                    const provider = new ethers.providers.Web3Provider(window.ethereum);

                    // FORCE ACCOUNT PICKER (For user with 20 wallets)
                    await window.ethereum.request({
                        method: 'wallet_requestPermissions',
                        params: [{ eth_accounts: {} }],
                    });

                    await provider.send('eth_requestAccounts', []);

                    // SECURE CONFIG FETCH FROM VERCEL SERVERLESS ENV
                    let envConfig = {
                        chainName: 'Avalanche Fuji Testnet',
                        chainId: '43113',
                        rpcUrl: 'https://api.avax-test.network/ext/bc/C/rpc'
                    };
                    try {
                        const cfgRes = await fetch('/api/config');
                        if (cfgRes.ok) envConfig = await cfgRes.json();
                        logEvent('ENV_SYNC: Vercel_Variables_Loaded');
                    } catch (e) {
                        console.warn('Using Local Fallback Env');
                    }

                    const hexChainId = '0x' + Number(envConfig.chainId).toString(16);

                    // AUTO-SWITCH TO CONFIGURED TARGET NETWORK
                    try {
                        await window.ethereum.request({
                            method: 'wallet_switchEthereumChain',
                            params: [{ chainId: hexChainId }],
                        });
                    } catch (switchError) {
                        if (switchError.code === 4902) {
                            await window.ethereum.request({
                                method: 'wallet_addEthereumChain',
                                params: [{
                                    chainId: hexChainId,
                                    chainName: envConfig.chainName,
                                    nativeCurrency: { name: 'AVAX', symbol: 'AVAX', decimals: 18 },
                                    rpcUrls: [envConfig.rpcUrl],
                                    blockExplorerUrls: ['https://testnet.snowtrace.io/']
                                }]
                            });
                        }
                    }

                    const signer = provider.getSigner();
                    address = await signer.getAddress();
                    const balRaw = await provider.getBalance(address);
                    balance = ethers.utils.formatEther(balRaw);

                    document.getElementById('header-disconnect').style.display = 'block';
                    document.getElementById('network-overlay').style.display = 'none';

                    connectBtn.innerText = address.slice(0, 6) + '...' + address.slice(-4);
                    connectBtn.style.background = 'var(--accent)';
                    connectBtn.style.color = '#000';
                    document.getElementById('wallet-bal').innerText = parseFloat(balance).toFixed(4) + ' AVAX';
                    document.getElementById('wallet-addr').innerText = address;
                    showToast('CONNECTION_SECURE');
                } catch (err) {
                    console.error(err);
                    if (err.code === 4001) showToast('CONNECTION_DENIED');
                    else document.getElementById('network-overlay').style.display = 'grid';
                    logEvent('WALLET_FAIL: ' + (err.message || 'Denied'));
                }
            } else {
                alert('MetaMask not detected!');
            }
        }

        async function disconnectWallet() {
            address = null;
            balance = '0.00';
            connectBtn.innerText = 'CONNECT WALLET';
            connectBtn.style.background = 'rgba(15, 236, 133, 0.05)';
            connectBtn.style.color = 'var(--accent)';
            document.getElementById('header-disconnect').style.display = 'none';
            document.getElementById('wallet-addr').innerText = 'NOT_CONNECTED';
            document.getElementById('wallet-bal').innerText = '0.00';
            modal.classList.remove('modal-active');
            logEvent('WALLET_DISCONNECTED');
            showToast('WALLET_DISCONNECTED');
        }

        connectBtn.onclick = () => { if (!address) connectWallet(); else modal.classList.add('modal-active'); };
        document.getElementById('header-disconnect').onclick = () => disconnectWallet();
        document.getElementById('close-modal').onclick = () => modal.classList.remove('modal-active');
        document.getElementById('disconnect-btn').onclick = () => disconnectWallet();

        async function triggerShift() {
            if (!address) {
                alert("CRITICAL: Connect Wallet first to emit on-chain shift.");
                return;
            }

            impulse = 1.0;
            document.getElementById('bridge-status').innerText = 'AWAITING_SIGNATURE...';
            document.getElementById('bridge-status').style.color = '#ff0';

            try {
                const provider = new ethers.providers.Web3Provider(window.ethereum);
                const signer = provider.getSigner();

                // Encode current state into hex data for on-chain memorialization
                // This makes the transaction 100% REAL and acts as an "On-Chain Audit Trail"
                const currentEntropy = document.getElementById('ent').innerText;
                const currentCoord = document.getElementById('shard-coord').innerText;
                const message = `CHAINSHIFT_SYNC | ENTROPY:${currentEntropy} | COORD:${currentCoord}`;
                const hexData = ethers.utils.hexlify(ethers.utils.toUtf8Bytes(message));

                logEvent('BLOCKCHAIN: Requesting Signature for Avalanche Fuji');

                // Send a 0 AVAX transaction to self with the encoded data
                const tx = await signer.sendTransaction({
                    to: address,
                    value: 0,
                    data: hexData
                });

                document.getElementById('bridge-status').innerText = 'BROADCASTING_TX...';
                document.getElementById('bridge-status').style.color = '#ff8800';

                // Show real hash immediately
                const explorerBase = "https://testnet.snowtrace.io/tx/";
                document.getElementById('v-hash').innerHTML = `<a href="${explorerBase}${tx.hash}" target="_blank" style="color:var(--accent); text-decoration:underline;">${tx.hash.substring(0, 10)}... (VERIFY)</a>`;
                logEvent(`BROADCASTED: ${tx.hash.substring(0, 15)}...`);

                // Wait for network confirmation
                const receipt = await tx.wait();

                document.getElementById('bridge-status').innerText = 'SYNCHRONIZED_ONCHAIN';
                document.getElementById('bridge-status').style.color = 'var(--accent)';
                logEvent(`FINALIZED: Fuji_Block_Confirmed | Block: ${receipt.blockNumber}`);
                showToast('ON-CHAIN SHIFT CONFIRMED');

            } catch (error) {
                console.error(error);
                logEvent('TX_REJECTED: ' + (error.message || 'Signature denied/Failed'));
                document.getElementById('bridge-status').innerText = 'SYNC_FAILED';
                document.getElementById('bridge-status').style.color = '#f00';
            }
        }
        document.getElementById('shift-btn').onclick = triggerShift;

        // TOUCH
        const btnMap = { up: 'KeyW', down: 'KeyS', left: 'KeyA', right: 'KeyD' };
        for (const id in btnMap) {
            const b = document.getElementById(id);
            if (b) {
                b.onmousedown = b.ontouchstart = () => keys[btnMap[id]] = true;
                b.onmouseup = b.ontouchend = b.ontouchcancel = () => keys[btnMap[id]] = false;
            }
        }

        function loop() {
            const time = (performance.now() - start) * 0.001;
            if (keys.KeyW || keys.ArrowUp) orbitY += 0.04;
            if (keys.KeyS || keys.ArrowDown) orbitY -= 0.04;
            if (keys.KeyA || keys.ArrowLeft) orbitX -= 0.04;
            if (keys.KeyD || keys.ArrowRight) orbitX += 0.04;
            impulse *= 0.94;

            const entropy = 2.4 + Math.sin(time * 0.5) * 1.8 + impulse * 5.0;

            gl.uniform2f(uR, canvas.width, canvas.height);
            gl.uniform1f(uT, time);
            gl.uniform1f(uE, entropy);
            gl.uniform1f(uI, impulse);
            gl.uniform2f(uO, orbitX, orbitY);
            gl.drawArrays(gl.TRIANGLES, 0, 6);

            document.getElementById('ent').innerText = entropy.toFixed(6);
            document.getElementById('imp').innerText = impulse.toFixed(6);
            document.getElementById('shard-coord').innerText = orbitX.toFixed(2) + ', ' + orbitY.toFixed(2);

            requestAnimationFrame(loop);
        }

        loop();
        logEvent('SYSTEM: v1.3.1_Prod_Stable');
        logEvent('GRAPHICS: Raymarching_SDF_Active');
    </script>
</body>

</html>